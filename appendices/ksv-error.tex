\chapter{KSV Error from Early Measurement}
\label{app:ksv-error}

In this note, we provide a detailed calculation for the error in
phase estimation due to Kitaev, Shen, and Vyalyi (KSV) where projective
measurement is used instead of a coherent measurement. We show an
increase from $2\sqrt{\epsilon}$ to $\sqrt{2}\sqrt[4]{\epsilon}$. The use
of projective measurement is to offload many trigonometric operations
onto a classical controller instead of doing them reversibly on a quantum
computer. The cost of projective measurement is leaving garbage qubits in
the ancillae of the target register, but this is a constant amount relative to
the size of circuits we may wish to compile using the KSV procedure.
Our goal is to show that this increase in error by a square root
factor is negligible and may be preferable in realistic implementations.

To begin with, we review (coherent) measurement operators as a generalization of
controlled quantum operators, and then we further extend them to the case
of approximately measuring functions on orthogonal basis decompositions
where there are garbage bits left over in an ancillary register which must
be uncomputed.
Next, we calculate the error of this approximate measurement with ancillae.
Then, we show how this general measurement procedure corresponds to
estimating the phase of the modular multiplication operator used in
Shor's factoring algorithm. Finally, we show that the error only
increases by a square root factor when we projectively measure the garbage
in the ancillae instead of coherently simulating the measurement.

\input{appendices/ksv-error-background}

\input{appendices/ksv-error-measure-ancillae}

\input{appendices/ksv-error-calculations}
